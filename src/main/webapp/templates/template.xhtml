<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

<h:head> 
    <title><ui:insert name="title">Blockk Busterr</ui:insert></title>
    <h:outputStylesheet name="style.css" library="css"/>
</h:head>

<body>
    <div class="header-bar">
        <div class="header-left">
            <h:form>
                <ui:insert name="header-left-content">
                    <!-- Default header content -->
                    <h:panelGroup rendered="#{sessionBean.authenticated}">
                        <span class="welcome-text">Welcome, </span>
                        <h:commandLink action="profile.xhtml?faces-redirect=true" styleClass="username-display clickable">
                            <h:outputText value="#{sessionBean.currentUserDisplayName}" />
                        </h:commandLink>
                        <span class="user-role">(#{sessionBean.currentUserRole})</span>
                        
                        <h:commandLink value="Profile" action="profile.xhtml?faces-redirect=true" styleClass="nav-link" />
                        <h:commandLink value="Logout" action="#{authBean.logout}" styleClass="logout-link" />
                    </h:panelGroup>
                    
                    <h:panelGroup rendered="#{not sessionBean.authenticated}">
                        <h:commandLink value="Login" action="login.xhtml?faces-redirect=true" styleClass="login-link" />
                        <h:commandLink value="Register" action="register.xhtml?faces-redirect=true" styleClass="register-link" />
                    </h:panelGroup>
                </ui:insert>
            </h:form>
        </div>
        <div class="header-center">
            <ui:insert name="main-title">Main Page</ui:insert>
        </div>
        <div class="header-right">
            <h:form>
                <h:commandLink action="mainPage.xhtml?faces-redirect=true">
                    <h:graphicImage library="img" name="blockkbusterr.jpg" styleClass="logo-img"
                                   title="Go to Main Page" alt="Blockk Busterr Logo" />
                </h:commandLink>
            </h:form>
        </div>
    </div>

    <div class="content">
        <ui:insert name="content">
            </ui:insert>
    </div>
</body>

</html>